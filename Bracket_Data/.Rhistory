}
plot(density(datas), xlab="X_max - X_min(N)",
ylab="probability(density)", main = "Distribution of X_max - X_min(Norm)",xlim=c(0,1))
par(mfrow=c(1,2))  # "matrix of figures" parameter is set to 1 row, 2 columns
hist(datas,freq = FALSE, xlab="X_max - X_min(N)",
ylab="probability(density)", main = "Distribution of X_max - X_min(Norm)")
hist(stat,freq=FALSE, xlab="X_max - X_min(U)",
ylab="probability(density)", main = "Distribution of X_max - X_min(Unif)",xlim=c(0,1))
install.packages(rvest)
install.packages('rvest')
ranking <- read_html("http://kenpom.com/index.php")
library(rvest)
install.packages('xml2')
install.packages("xml2")
library(rvest)
ranking <- read_html("http://kenpom.com/index.php")
ranking
name <- html_nodes(ranking, 'span.seed')
name
name <- html_nodes(ranking, 'a')
name
library(rvest)
ranking <- read_html("http://kenpom.com/index.php")
name <- html_nodes(ranking, css = 'table')
name
html_table(name,header = TRUE)
new <- html_table(name ,header = TRUE)
new
head(new)
summary(new)
new.names()
names(new)
cols(new)
col(new)
colnames(new)
row.names(new)
vignette('selectorgadget')
ranking2 <- html_name(ranking, css = 'td , #ratings-table a')
ranking2 <- html_name(ranking, 'td , #ratings-table a')
ranking2 <- html_name(ranking, 'td:nth-child(2) a')
ranking2 <- html_nodes(ranking, 'td:nth-child(2) a')
ranking2
gg <- html_text(ranking2)
gg
aa <- html_nodes(ranking, 'td , #ratings-table a')
aa
html_text(aa)
html_table(aa)
table(aa)
library(rvest)
web <- read_html("http://kenpom.com/index.php")
team <- html_nodes(web, 'td:nth-child(2) a')
team
team <- html_text(team)
team
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
W_L
length(W_L)
length(team)
library(rvest)
web <- read_html("http://kenpom.com/index.php")
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, ':nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
library(rvest)
web <- read_html("http://kenpom.com/index.php")
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, '.td-left:nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
data2017 <- data.frame('team' = team, 'W_L' = W_L, 'AdjEM' = AdjEM, 'AdjO' = AdjO,
'AdjD' = AdjD, 'AdjT' = AdjT, 'luck' = luck)
head(data2017)
length(data2017)
dim(data2017)
2002:2016
toString(2002:2016)
suffix= c()
for (i in 2002:2016){
suffix = c(suffix, toString(i))
}
for i in 2002:2016
suffix
paste("?y=", toString(2002))
suffix= c()
for (i in 2002:2016){
suffix = c(suffix, paste("?y=",toString(i), sep = ""))
}
suffix
suffix = c("", suffix)
suffix
urls= c()
for (i in 2002:2016){
urls = c(suffix, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c("", urls)
urls
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c("", urls)
urls
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c("http://kenpom.com/index.php", urls)
for (i in urls){
i
}
i
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c(urls,"http://kenpom.com/index.php")
urls[1]
urls[0]
length(urls)
paste("b", "c") <- 2002:2018
setwd("/Users/zihaoxu/Statsketball/Statsketball-Tournament")
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c(urls,"http://kenpom.com/index.php")
years <- 2002:2017
for (i in length(urls)){
web <- read_html(urls[i])
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, '.td-left:nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
data <- data.frame('team' = team, 'W_L' = W_L, 'AdjEM' = AdjEM, 'AdjO' = AdjO,
'AdjD' = AdjD, 'AdjT' = AdjT, 'luck' = luck)
write.csv(data,file = paste(years[i], "_data.csv", sep = ""))
}
years <- 2002:2017
for (i in length(urls)){
web <- read_html(urls[i])
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, '.td-left:nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
data <- data.frame('team' = team, 'W_L' = W_L, 'AdjEM' = AdjEM, 'AdjO' = AdjO,
'AdjD' = AdjD, 'AdjT' = AdjT, 'luck' = luck)
write.csv(data,file = paste(years[i], "_data.csv", sep = ""))
}
years <- 2002:2017
for (i in length(urls)-1){
web <- read_html(urls[i])
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, '.td-left:nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
data <- data.frame('team' = team, 'W_L' = W_L, 'AdjEM' = AdjEM, 'AdjO' = AdjO,
'AdjD' = AdjD, 'AdjT' = AdjT, 'luck' = luck)
write.csv(data,file = paste(years[i], "_data.csv", sep = ""))
}
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c(urls,"http://kenpom.com/index.php")
years <- 2002:2017
for (i in 1:length(urls)){
web <- read_html(urls[i])
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, '.td-left:nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
data <- data.frame('team' = team, 'W_L' = W_L, 'AdjEM' = AdjEM, 'AdjO' = AdjO,
'AdjD' = AdjD, 'AdjT' = AdjT, 'luck' = luck)
write.csv(data,file = paste(years[i], "_data.csv", sep = ""))
}
setwd("/Users/zihaoxu/Statsketball/Statsketball-Tournament/kenpom.com_Data")
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://kenpom.com/index.php?y=",toString(i), sep = ""))
}
urls = c(urls,"http://kenpom.com/index.php")
years <- 2002:2017
for (i in 1:length(urls)){
web <- read_html(urls[i])
team <- html_nodes(web, 'td:nth-child(2) a')
team <- html_text(team)
W_L <- html_nodes(web, 'td:nth-child(4)')
W_L <- html_text(W_L)
AdjEM<- html_nodes(web, 'td:nth-child(5)')
AdjEM<- html_text(AdjEM)
AdjO<- html_nodes(web, '.td-left:nth-child(6)')
AdjO<- html_text(AdjO)
AdjD<- html_nodes(web, '.td-left:nth-child(8)')
AdjD<- html_text(AdjD)
AdjT<- html_nodes(web, '.td-left:nth-child(10)')
AdjT<- html_text(AdjT)
luck<- html_nodes(web, '.td-left:nth-child(12)')
luck<- html_text(luck)
data <- data.frame('team' = team, 'W_L' = W_L, 'AdjEM' = AdjEM, 'AdjO' = AdjO,
'AdjD' = AdjD, 'AdjT' = AdjT, 'luck' = luck)
write.csv(data,file = paste(years[i], "_data.csv", sep = ""))
}
source('~/Desktop/Statskeball Tournament/Getting_data.R')
source('~/Desktop/Statskeball Tournament/Getting_data.R')
paste('b','c','d')
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
urls
web <- read_html(urls[1])
team <- html_nodes(web, '#bracket :nth-child(1) div div a')
team <- html_text(team)
team
length(team)
136/2
team <- html_text(team)[:132]
team = team[:132]
team <- html_text(team)[c(1,132)]
team <- team[c(1,132)]
team
team <- html_nodes(web, '#bracket :nth-child(1) div div a')
team <- html_text(team)
team <- team[c(1:132)]
team
length(team)
132/2
team <- html_nodes(web, '#bracket :nth-child(1) div div a')
team <- html_text(team)
team <- team[c(1:128)]
length(team)
urls[1]
team
5%2
5 mod 2
5%/%2
setwd('/Users/zihaoxu/Statsketball/Statsketball-Tournament/64_Winner_Data')
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team)
team_score <- team[c(1:128)]
team = c()
score = c()
for (i in length(team_score)){
if (i %/% 2 == 1){
team = c(team, team_score[i])
}else{
score = c(score, team_score[i])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team)
team_score <- team[c(1:128)]
team = c()
score = c()
for (i in length(team_score)){
if (i %/% 2 == 1){
team = c(team, team_score[i])
}else{
score = c(score, team_score[i])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team)
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team_score)
team_score <- team_score[c(1:128)]
team = c()
score = c()
for (i in length(team_score)){
if (i %/% 2 == 1){
team = c(team, team_score[i])
}else{
score = c(score, team_score[i])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
team
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team_score)
team_score <- team_score[c(1:128)]
team = c()
score = c()
for (i in 1:length(team_score)){
if (i %/% 2 == 1){
team = c(team, team_score[i])
}else{
score = c(score, team_score[i])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
years <- 2002:2017
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team_score)
team_score <- team_score[c(1:128)]
team = c()
score = c()
for (i in 1:length(team_score)){
if (i %/% 2 == 1){
team = c(team, team_score[i])
}else{
score = c(score, team_score[i])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
team_score
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
years <- 2002:2017
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team_score)
team_score <- team_score[c(1:128)]
team = c()
score = c()
for (j in 1:length(team_score)){
if (j %/% 2 == 1){
team = c(team, team_score[j])
}else{
score = c(score, team_score[j])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
team_score
length(team_score)
team
score
5 %/% 2 == 1
5 %/% 2
5 %% 2
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
years <- 2002:2017
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team_score)
team_score <- team_score[c(1:128)]
team = c()
score = c()
for (j in 1:length(team_score)){
if (j %% 2 == 1){
team = c(team, team_score[j])
}else{
score = c(score, team_score[j])
}
}
data <- data.frame('team' = team, 'score' = score)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
rank <- c(1,16,8,9,5,12,4,13,6,11,3,14,7,10,2,15)
rank
ranking <- c(rank,rank,rank,rank)
ranking
leng
length(ranking)
library(rvest)
# Creating the list of urls of rating websites from 2002 to 2017
urls= c()
for (i in 2002:2016){
urls = c(urls, paste("http://www.sports-reference.com/cbb/postseason/",toString(i), "-ncaa.html", sep = ""))
}
# Initializing some useful vectors
years <- 2002:2017
rank <- c(1,16,8,9,5,12,4,13,6,11,3,14,7,10,2,15)
ranking <- c(rank,rank,rank,rank)
# Creating the data frames from online urls
for (i in 1:length(urls)){
web <- read_html(urls[i])
team_score <- html_nodes(web, '#bracket :nth-child(1) div div a')
team_score <- html_text(team_score)
team_score <- team_score[c(1:128)]
team = c()
score = c()
for (j in 1:length(team_score)){
if (j %% 2 == 1){
team = c(team, team_score[j])
}else{
score = c(score, team_score[j])
}
}
data <- data.frame('team' = team, 'score' = score, seed = ranking)
write.csv(data,file = paste(years[i], "_64_winner.csv", sep = ""))
}
